

# ğŸš€ **FULL PROJECT STRUCTURE (Python + Flask + web3.py + MetaMask)**

```
notary-dapp/
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app.py
â”‚   â”œâ”€â”€ config.py
â”‚   â”œâ”€â”€ contract.py
â”‚   â”œâ”€â”€ utils.py
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ .env
â”‚   â”œâ”€â”€ instance/
â”‚   â”‚   â””â”€â”€ secret_key.txt
â”‚   â””â”€â”€ __init__.py
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ static/
â”‚   â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â”‚   â””â”€â”€ style.css
â”‚   â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”‚   â”œâ”€â”€ metamask.js
â”‚   â”‚   â”‚   â””â”€â”€ verify.js
â”‚   â”‚   â””â”€â”€ images/
â”‚   â””â”€â”€ templates/
â”‚       â”œâ”€â”€ index.html
â”‚       â”œâ”€â”€ notarize.html
â”‚       â””â”€â”€ verify.html
â”‚
â”œâ”€â”€ blockchain/
â”‚   â”œâ”€â”€ Notary.sol
â”‚   â”œâ”€â”€ hardhat.config.js
â”‚   â”œâ”€â”€ scripts/
â”‚   â”‚   â”œâ”€â”€ deploy.js
â”‚   â”‚   â””â”€â”€ interact.js
â”‚   â”œâ”€â”€ artifacts/       â† Generated after compile
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ architecture-diagram.png
â”‚   â”œâ”€â”€ workflow-diagram.png
â”‚   â””â”€â”€ report.docx
â”‚
â”œâ”€â”€ README.md
â””â”€â”€ .gitignore
```

---

# ğŸ“Œ **EXPLANATION OF EVERY FOLDER**

---

# 1ï¸âƒ£ **backend/** â€” Core Flask App + Blockchain Connection

### **app.py (main Flask file)**

Contains routes:

* `/` â€“ homepage
* `/notarize` â€“ notarization page
* `/verify` â€“ verification page
* API endpoints:

  * `/api/notarize`
  * `/api/verify`

### **config.py**

Stores:

* RPC URL (Infura/Alchemy)
* Contract address
* Load ABI
* Flask settings

### **contract.py**

Handles blockchain interactions using **web3.py**:

* Connect to RPC
* Load ABI + contract address
* Functions:

  * `store_hash()`
  * `verify_hash()`

### **utils.py**

General helpers:

* Hashing document â†’ SHA256
* File reading
* Error handling wrappers

### **.env (ignored in GitHub)**

Contains:

```
RPC_URL=
PRIVATE_KEY=
CONTRACT_ADDRESS=
```

### **requirements.txt**

Dependencies:

```
Flask
web3
python-dotenv
gunicorn
```

---

# 2ï¸âƒ£ **frontend/** â€” HTML Templates, CSS, JavaScript

### **templates/index.html**

Landing page
Buttons:

* â€œNotarize Documentâ€
* â€œVerify Documentâ€

### **templates/notarize.html**

Upload file â†’ Flask hashes it â†’ MetaMask signs â†’ sends tx to blockchain.

### **templates/verify.html**

User enters file or hash â†’ backend verifies via contract.

### **static/js/metamask.js**

Handles:

* Connect wallet
* Get current address
* Ask for transaction signing

### **static/js/verify.js**

AJAX request to `/api/verify`

### **static/css/style.css**

Your design.

---

# 3ï¸âƒ£ **blockchain/** â€” Hardhat Smart Contract Workspace

### **Notary.sol**

Basic contract:

```solidity
mapping(bytes32 => uint256) public timestamps;

function storeHash(bytes32 hash) public {
    require(timestamps[hash] == 0, "Already exists");
    timestamps[hash] = block.timestamp;
}

function verifyHash(bytes32 hash) public view returns (uint256) {
    return timestamps[hash];
}
```

### **scripts/deploy.js**

Deploys contract â†’ saves address.

### **artifacts/**

Contains ABI after compilation.

### **hardhat.config.js**

RPC network config:

* Sepolia
* Mumbai

---

# 4ï¸âƒ£ **docs/** â€” Academic Report + Diagrams

Includes:

* Architecture Diagram
* UML workflow
* Screenshots
* Final report

---

# 5ï¸âƒ£ **README.md**

For GitHub:

* Summary
* Features
* Screenshots
* How to run project
* Deployment instructions

---

# ğŸ§± **DETAILED BACKEND FLOW (VERY IMPORTANT)**

## **When user notarizes a file:**

```
File upload â†’ backend hashes file (SHA256)
â†“
Hash sent to frontend JS
â†“
MetaMask pops up â†’ user pays gas â†’ transaction sent
â†“
Blockchain stores hash and timestamp
â†“
Frontend shows "Notarized Successfully"
```

---

## **When user verifies a file:**

```
File upload â†’ backend hashes file
â†“
Hash sent to blockchain via contract.verifyHash()
â†“
If timestamp > 0 â†’ document was notarized
Else â†’ not notarized
```

---

# ğŸ”§ **KEY FILES (OUTLINE)**

---

### âœ”ï¸ backend/app.py (outline)

```python
from flask import Flask, render_template, request, jsonify
from contract import store_hash, verify_hash
from utils import compute_sha256
import os

app = Flask(__name__)

@app.route("/")
def home():
    return render_template("index.html")

@app.route("/notarize")
def notarize_page():
    return render_template("notarize.html")

@app.route("/verify")
def verify_page():
    return render_template("verify.html")

@app.route("/api/notarize", methods=["POST"])
def api_notarize():
    file = request.files["file"]
    doc_hash = compute_sha256(file)
    return jsonify({"hash": doc_hash})

@app.route("/api/verify", methods=["POST"])
def api_verify():
    file = request.files["file"]
    doc_hash = compute_sha256(file)
    timestamp = verify_hash(doc_hash)
    return jsonify({"timestamp": timestamp})

if __name__ == "__main__":
    app.run(debug=True)
```

---

### âœ”ï¸ backend/contract.py (outline)

```python
from web3 import Web3
import json, os
from dotenv import load_dotenv

load_dotenv()

w3 = Web3(Web3.HTTPProvider(os.getenv("RPC_URL")))

contract_address = os.getenv("CONTRACT_ADDRESS")
abi = json.load(open("path/to/abi.json"))
contract = w3.eth.contract(address=contract_address, abi=abi)

def verify_hash(hash_hex):
    return contract.functions.verifyHash(hash_hex).call()
```

---





# ğŸ§¾ **PROJECT TITLE: Blockchain-Based Document Notarization System (Python + Flask + Solidity)**

---

# ğŸŒŸ **What the Project Does (High-Level Overview)**

This project allows a user to:

### âœ”ï¸ **Notarize a document**

* The user uploads a file (PDF, image, text, etc.)
* The system computes its **SHA-256 hash**
* MetaMask signs a blockchain transaction
* The hash is stored permanently on the blockchain through a **smart contract**
* The blockchain records:

  * File hash
  * Timestamp
  * Wallet address

This creates a **tamper-proof certificate of existence** for the document.

---

### âœ”ï¸ **Verify a document**

* User uploads the document again OR enters the hash manually
* The system computes its SHA-256 hash
* Smart contract checks whether this hash exists on blockchain
* If found â†’ displays timestamp of notarization
* If not found â†’ document is not notarized

---

### ğŸ¯ **Main Purpose**

The system ensures:

* Document authenticity
* Timestamp proof
* Tamper-resistance
* Public verification

All using **public blockchain**, where data cannot be modified or deleted.

---

# ğŸ§± **How the Entire System Works Internally**

This project works by combining **three technologies**:

---

## 1ï¸âƒ£ **Smart Contract (Solidity on Ethereum Testnet)**

This is the core logic deployed on blockchain.

It stores:

```
Hash â†’ Timestamp
```

It is public and verifiable by anyone.

### Functions:

**storeHash(hash)**
Stores file hash if not already stored.

**verifyHash(hash)**
Fetches timestamp of existing hash.

Blockchain ensures:

* Immutable data
* Transparency
* No central control

---

## 2ï¸âƒ£ **Backend (Python Flask)**

Acts as the bridge between:

* User interface
* File hashing
* Smart contract
* Blockchain RPC endpoint

Backend responsibilities:

### ğŸ”¹ Hash documents

Compute SHA-256 hash â†’ unique fingerprint.

### ğŸ”¹ Provide APIs

* `/api/notarize` â†’ compute hash and send to frontend
* `/api/verify` â†’ compute hash and check blockchain

### ğŸ”¹ Connect to Ethereum

Uses **web3.py** to communicate with deployed contract.

---

## 3ï¸âƒ£ **Frontend (HTML + CSS + JavaScript + MetaMask)**

This is what the user sees.

Responsibilities:

### ğŸ”¹ Upload files

User selects file â†’ sent to Flask â†’ hash generated.

### ğŸ”¹ Connect MetaMask

User signs and pays gas to store hash.

### ğŸ”¹ Call blockchain

Upload â†’ Hash â†’ Transaction â†’ Success message.


# ğŸ“‚ **1. backend/**

This folder contains the Python server logic.

---

## **ğŸ“Œ app.py (Main Flask Application)**

Controls the pages and API routes.

### Responsibilities:

* Define routes:

  * `/` â†’ homepage
  * `/notarize`
  * `/verify`
* Provide API endpoints:

  * `/api/notarize`
  * `/api/verify`
* Render HTML templates

This is the central controller of your system.

---

## **ğŸ“Œ config.py**

Stores configuration:

* RPC URL (Alchemy/Infura)
* Contract address
* Load ABI from artifacts
* Flask settings

Helps avoid hardcoding.

---

## **ğŸ“Œ contract.py**

Connects Python to the blockchain.

### Does:

* Load ABI
* Create Web3 instance
* Load contract
* Expose functions:

  * `store_hash()`
  * `verify_hash()`

This is your backendâ€™s blockchain interface.

---

## **ğŸ“Œ utils.py**

Utility functions.

### Most Important:

* **compute_sha256(file)** â†’ hashes the file
  Hash acts as **document fingerprint**.

---

## **ğŸ“Œ .env**

Contains private, sensitive values:

```
RPC_URL="https://eth-sepolia.g.alchemy.com/v2/...."
PRIVATE_KEY="your_private_key"
CONTRACT_ADDRESS="0xABC..."
```

NEVER upload this to GitHub.

---

## **ğŸ“Œ requirements.txt**

Dependencies for backend:

```
Flask
web3
python-dotenv
gunicorn
```

---

# ğŸ“‚ **2. frontend/**

User interface.

---

## **ğŸ“Œ templates/index.html**

Homepage with 2 buttons:

* Notarize
* Verify

---

## **ğŸ“Œ templates/notarize.html**

Page for uploading file for notarization.

Process:

1. Upload file
2. Flask hashes file
3. Hash sent to browser
4. JavaScript triggers MetaMask
5. MetaMask sends transaction

---

## **ğŸ“Œ templates/verify.html**

Page for checking if document hash exists.

---

## **ğŸ“Œ static/js/metamask.js**

JavaScript for:

* Connecting to MetaMask
* Sending transaction to smart contract
* Handling user wallet

---

## **ğŸ“Œ static/css/style.css**

Contains styling.

---

# ğŸ“‚ **3. blockchain/**

Everything related to Solidity + Hardhat.

---

## **ğŸ“Œ Notary.sol**

Smart contract storing:

* mappings
* timestamps

---

## **ğŸ“Œ hardhat.config.js**

Configures networks:

* Sepolia
* Mumbai

---

## **ğŸ“Œ scripts/deploy.js**

Deploys your contract and prints address.

---

## **ğŸ“Œ artifacts/**

Contains ABI â†’ required by web3.py to interact.

---

# ğŸ“‚ **4. docs/**

Contains report, diagrams, screenshots.

Ideal for your college submission.

---

# ğŸ“‚ **5. README.md**

GitHub documentation.

Explains:

* Setup
* Features
* How to run
* Architecture

---

# ğŸ¯ **COMPLETE END-TO-END SYSTEM WORKFLOW**

### **1ï¸âƒ£ User chooses â€œNotarize Documentâ€**

â†’ Uploads file to Flask backend
â†’ Backend computes SHA-256 hash
â†’ Frontend receives hash
â†’ MetaMask opens, asks user to confirm transaction
â†’ Hash stored on blockchain
â†’ System shows â€œDocument notarized successfullyâ€

---

### **2ï¸âƒ£ User chooses â€œVerify Documentâ€**

â†’ Uploads file again
â†’ Backend computes hash
â†’ Smart contract checks timestamp
â†’ If timestamp exists â†’ document is original
â†’ Else â†’ fake/altered/not notarized


